# 共変と不変

## 共変(variant)

- 配列が持つ特性
- 派生クラスを基底クラスに代入できること

```C#
object[] list = new string[10];
```

- 「object型」と「string型」には継承関係があるので代入ができる

  ```c#
  //「string型」の配列を入れた「object型」の「list」に「int型」の「10」を代入
  list[1] = 10;
  ```

  - 「object型」なのでコンパイル時には通るが、実行時にはエラーになる

## 不変(invariant)

- List型(ジェネリックを利用した型)が持つ性質

- 派生クラスであっても基底クラスに代入できない

```C#
List<object> list = new List<string>();
```

- コンパイルエラーになる
- 配列(共変)であった問題はそもそも起こりえない
