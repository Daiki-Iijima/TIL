# Pngの圧縮アルゴリズム「deflate圧縮」

画像ファイルの形式.png形式のファイルを圧縮するために使用されているアルゴリズムのzlibについて調べてみた

# deflate圧縮の概要
Wikipediaより
> Deflate（デフレート）とはLZ77とハフマン符号化を組み合わせた可逆データ圧縮アルゴリズム

まずは、「LZ77」「ハフマン符号化」から調べてみる。

# 大分類した時のLZ77とハフマン符号化

```
LZ77        : 辞書式

ハフマン符号化 : エントロピー符号
```
# LZ77

> 可逆圧縮法。可逆とは圧縮した文字列を元の文字列に復元可能という意味

現在位置から始まる記号列がそれ以前に存在しているかを捜索し、出現していたならば、記号列をその出現位置と長さのポインタに置き換える

## 例
```
ABCDEABCD
```
という文字列があった場合、LZ77アルゴリズムを使用すると

```
"ABCDE"(4,5)
```
となる

(4,5)を日本語にすると、「4文字の単語で5文字前にある」

## 操作範囲について

- 記号列を遡って探す範囲を**スライド窓**という
- スライド窓の範囲は「最大32,767文字」

## 記号列の長さについて
- 際限なく処理すると重くなるので、「最長258文字」と決まっている

## LZ78について
LZ77に、最長一致する部分文字列の開始位置と終了位置に制限がついた圧縮アルゴリズム

```
画像作成予定
```

## 試してみる
C++のコード
https://gist.github.com/MajedSiefALnasr/32cff52b01d764ee158f2c36e4e84d95
### 参考
- https://qiita.com/kgoto/items/53696f5d95919d158ad8

# ハフマン符号化